<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - Griver</title>

    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

    <!-- TU CSS -->
    <link rel="stylesheet" href="~/css/Empleado.css">
</head>
<body>

    <!-- ============================================================ -->
    <!-- TOPBAR -->
    <!-- ============================================================ -->
    <div class="topbar d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center gap-3">
            <span class="menu-icon" id="menuToggle">â˜°</span>

            <img src="~/img/logo2.png" class="logo2">
            <span class="fw-semibold brand-title">Griver</span>
        </div>

        <div class="d-flex align-items-center gap-3">
            <span id="clock2" class="text-muted small"></span>

            <button class="notif-btn">ðŸ””</button>

            <div class="topbar-user user-dropdown" id="userDropdown">
                @User.Identity.Name
                <div class="user-dropdown-menu">
                    <a asp-controller="Perfil" asp-action="Index">Mi Perfil</a>
                    <form asp-controller="Account" asp-action="Logout" method="post" class="w-full">
                    <button type="submit" class="nav-item w-full text-left cursor-pointer border-0 bg-transparent">
                        <i class="fas fa-sign-out-alt nav-icon"></i> Cerrar SesiÃ³n
                    </button>
                </form>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================ -->
    <!-- SIDEBAR -->
    <!-- ============================================================ -->
    <aside class="sidebar" id="sidebarMenu">
        <nav class="sidebar-nav">
            <a asp-controller="Empleado" asp-action="Inicio">Inicio</a>
            <a asp-controller="MisCursos" asp-action="Index">Mis Cursos</a>
            <a asp-controller="Progreso" asp-action="Index">Mi Progreso</a>
            <a asp-controller="Certificados" asp-action="Index">Mis Certificados</a>
            <a asp-controller="Help" asp-action="Index">Ayuda y Soporte</a>
        </nav>

        <div class="sidebar-footer">Griver v2.0.0 Â· 2025</div>
    </aside>

    <!-- ============================================================ -->
    <!-- CONTENIDO PRINCIPAL (corregido con content-area) -->
    <!-- ============================================================ -->
    <main class="content-area">
        @RenderBody()
    </main>

    <!-- ============================================================ -->
    <!-- SCRIPTS -->
    <!-- ============================================================ -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Reloj
        const t2 = () =>
            document.getElementById('clock2').textContent =
            new Date().toLocaleTimeString('es-MX');

        t2();
        setInterval(t2, 1000);

        // Sidebar toggle
        const sidebar = document.getElementById("sidebarMenu");
        document.getElementById("menuToggle").addEventListener("click", () => {
            sidebar.classList.toggle("open");
        });

        // Dropdown usuario
        const userDrop = document.getElementById("userDropdown");
        userDrop.addEventListener("click", () => {
            userDrop.classList.toggle("open");
        });

        // Cerrar dropdown al hacer click fuera
        document.addEventListener("click", (e) => {
            if (!userDrop.contains(e.target)) {
                userDrop.classList.remove("open");
            }
        });
    </script>

    @RenderSection("Scripts", false)
</body>
</html>
